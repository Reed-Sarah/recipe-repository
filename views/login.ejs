<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Recipe Repository</title>
  <link rel="stylesheet" type="text/css" href="css/styles.css" media="screen" />
  <!-- <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" /> -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</head>
<body>
    <%- include ("header.ejs") %>
    
        <div class="content small">
            <div class="outline">
            <h2>Login</h2>
                     <label>Email Address:</label><br>
                     <input required type="email" name="email" id="email" placeholder="Email Address"> <br>
                     <label>Password:</label><br>
                     <input required pattern="(?=^.{8,}$)(?=.*\d)(?=.*\W+)(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$" type="password" name="user_password" id="password" placeholder=Password><br>
                   
             <button id="login">Login</button> 
             <div class="register"> <a  href="/registration">Don't have an account? Sign up today!</a></div>
      
</div></div>
  
<script>

    document.getElementById("login").addEventListener('click', login);
    
function login() {  
    data = {};
    data["email"] = $("#email").val();
    data["password"] = $("#password").val();
  console.log(data);
  $.post("/login", {data: data}, function(result){
    
    console.log(result);
    if (result == true){
      window.location.href = "/";
    }
    else {
        console.log("invalid credentials")
    }

  });
   
}</script>
</body>
</html>